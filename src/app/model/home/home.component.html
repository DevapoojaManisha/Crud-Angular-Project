<nav class="navbar navbar-expand-lg navbar-dark bg-primary" style="width: 100%; padding: 15px;"> 
    <div class="container" >
      <a class="navbar-brand" href="#">Home</a>
    </div>
    <div class="col-sm-6">
      <button routerLink="/login" class="btn btn-danger mx-2" style="float: right;">Logout</button>
      <button class="btn btn-success"  style="float: right;" routerLink="/userform/add">Add User</button>
    </div>
  </nav>
  
  
  <h1 class="display-8 offset-md-5">User Data</h1>
  
  <ng-template #loading>
    <p><em>Loading...</em></p>
  </ng-template>
  
  
  
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form (ngSubmit)="search()" #searchForm="ngForm">
        <div class="input-group mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Search by Name"
            [(ngModel)]="searchQuery"
            name="searchQuery"
          />
          <button type="submit" class="btn btn-primary add-margin">Search</button>
          <div class="input-group-append">
            <button class="btn btn-danger" (click)="clearSearch()" style="width: 80px; height: 40px;">
              <i >X</i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  
  
  
  <ng-container *ngIf="userData$ | async as userData; else loading">
    <!--{{userData.userList | json }}-->
      <ng-container *ngIf="userData.userList.length>0 ; else noData ">
  
  
  
        <table class="table"  shadow table-striped align-middle table-bordered>
          <thead class=" table-success">
            <tr class=" text-center">
              <!-- <th >Id</th> -->
              <th >Name</th>
              <th >Phone</th>
              <th >Email</th>
              <th>Website</th>
              <th *ngIf="userData.appUser"> Actions </th>
            </tr>
          </thead>
          <tbody class="text-center">
            <tr  *ngFor="let user of userData.userList | paginate: { itemsPerPage: 10, currentPage: p } "
        >
        
              <!-- <th >{{ user.id }}</th> -->
              <td>{{ user.name }}</td>
              <td>{{ user.phone }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.website }}</td>
              <td *ngIf="userData.appUser">
  
  
                <button
                class="btn btn-outline-dark"
                [routerLink]="['/userform/edit/',user.id]"
              >
                Edit
              </button>
                <button type="button" style="margin-left: 20px;" class="btn btn-danger" 
                (click)="delete(user.id)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="d-flex justify-content-center">
          <pagination-controls (pageChange)="p = $event" previousLabel="Previous" nextLabel="Next"></pagination-controls>
        </div>      
      </ng-container>
      <ng-template #noData>
        <div class="d-flex justify-content-center">
          <h4>No records found</h4>
        </div>
      </ng-template>
  
  
  </ng-container>